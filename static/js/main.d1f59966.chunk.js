(this.webpackJsonpgods3=this.webpackJsonpgods3||[]).push([[0],{290:function(e,t,n){},291:function(e,t,n){},294:function(e,t,n){},324:function(e,t){},326:function(e,t){},346:function(e,t){},348:function(e,t){},349:function(e,t){},372:function(e,t){},374:function(e,t){},407:function(e,t){},409:function(e,t){},414:function(e,t){},416:function(e,t){},423:function(e,t){},435:function(e,t){},438:function(e,t){},454:function(e,t){},456:function(e,t){},491:function(e,t){},494:function(e,t){},508:function(e,t){},510:function(e,t,n){"use strict";n.r(t);var r=n(15),c=n.n(r),a=n(269),s=n.n(a),u=(n(290),n(291),n(23)),i=n(35),o=n(2),l=n.n(o);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.coingecko.com/api/v3/simple/price?ids="+t+"&vs_currencies=usd").then((function(e){return e.json()})).then((function(e){return e[t].usd})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d("ethereum"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d("gods-unchained"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n(7),O=c.a.createContext(0),v=c.a.createContext(0),m=c.a.createContext((function(e){})),k=c.a.createContext("");function y(){return Object(r.useContext)(O)}function w(){return Object(r.useContext)(v)}function g(){return Object(r.useContext)(k)}function _(e){var t=e.children,n=Object(r.useState)(0),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(0),d=Object(i.a)(o,2),f=d[0],p=d[1],h=Object(r.useState)(""),y=Object(i.a)(h,2),w=y[0],g=y[1];return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,b();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=p,e.next=8,j();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))()})),Object(x.jsx)(k.Provider,{value:w,children:Object(x.jsx)(m.Provider,{value:g,children:Object(x.jsx)(O.Provider,{value:a,children:Object(x.jsx)(v.Provider,{value:f,children:t})})})})}n(294);function C(e){var t=Object(r.useState)(-1),n=Object(i.a)(t,2),c=n[0],a=n[1];return console.log("current page "+c),Object(x.jsxs)("div",{children:[Object(x.jsx)("nav",{className:"nav-bar-items",children:Object(x.jsx)("ul",{className:"nav-menu",children:e.items.map((function(e,t){return Object(x.jsx)("li",{children:Object(x.jsx)("button",{onClick:function(e){return a(t)},className:"nav-bar-item",children:e.label})},t)}))})}),Object(x.jsx)("div",{children:-1===c?Object(x.jsx)(x.Fragment,{}):e.items[c].page})]})}var M=n(119);function S(){var e=Object(M.useMetaMask)(),t=e.status,n=e.connect,c=e.account,a=Object(r.useContext)(m);Object(r.useEffect)((function(){"connected"==t&&a(c||"")}),[t]);var s=null;return"initializing"===t&&(s=Object(x.jsx)("div",{children:"Synchronisation with MetaMask ongoing..."})),"unavailable"===t&&(s=Object(x.jsx)("div",{children:"MetaMask not available :("})),"connecting"===t&&(s=Object(x.jsx)("div",{children:"Connecting..."})),"connected"===t?null:("notConnected"===t&&(s=Object(x.jsx)("button",{onClick:n,children:"Connect to MetaMask"})),Object(x.jsx)("a",{className:"meta-mask-button",children:s}))}var E=c.a.createContext(0),N=c.a.createContext((function(e){}));function q(e){var t=e.children,n=Object(r.useState)(0),c=Object(i.a)(n,2),a=c[0],s=c[1];return Object(x.jsx)(E.Provider,{value:a,children:Object(x.jsx)(N.Provider,{value:function(e){s((function(t){return t+e}))},children:t})})}function P(e){return T.apply(this,arguments)}function T(){return(T=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.x.immutable.com/v2/balances/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.x.immutable.com/v1/assets?direction=asc&order_by=name&page_size=2000&sell_orders=true&status=imx&user="+t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.x.immutable.com/v1/assets?name="+n+"&direction=asc&order_by=name&page_size=2000&sell_orders=true&status=imx&user="+t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent('{"name":["'+t+'"],"quality":["Meteorite"]}'),e.next=3,fetch("https://api.x.immutable.com/v1/orders?page_size=5&sell_token_address=0xacb3c6a43d15b907e8433077b6d38ae40936fe2c&buy_token_type=ETH&direction=asc&include_fees=true&order_by=buy_quantity&status=active&sell_metadata="+n);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return F.apply(this,arguments)}function F(){return(F=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURIComponent('{"name":["'+t+'"],"quality":["Meteorite"]}'),e.next=3,fetch("https://api.x.immutable.com/v1/orders?page_size=5&sell_token_address=0xacb3c6a43d15b907e8433077b6d38ae40936fe2c&buy_token_address=0xccc8cb5229b0ac8069c51fd58367fd1e622afd97&direction=asc&include_fees=true&order_by=buy_quantity&status=active&sell_metadata="+n);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:return n=e.sent,r=n.result[0].buy.data,e.abrupt("return",r.quantity/Math.pow(10,r.decimals));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:return n=e.sent,r=n.result[0].buy.data,e.abrupt("return",r.quantity/Math.pow(10,r.decimals));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){if(0===e)return 0;var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function X(e){return"0xccc8cb5229b0ac8069c51fd58367fd1e622afd97"===e?"gods":"eth"}function K(e){return new Promise((function(t){return setTimeout(t,e)}))}var Q=n(120);function V(e){return Object(x.jsx)("div",{className:"token-list-container",children:e.children})}function W(e){return Object(x.jsx)("div",{className:"token-list-card",children:Object(x.jsx)("img",{className:"token-list-image",src:e.url})})}function Y(e){var t=e.token.orders.sell_orders[0],n=t.buy_quantity/Math.pow(10,t.buy_decimals),c=X(t.contract_address),a=g(),s=Object(r.useState)(0),o=Object(i.a)(s,2),d=o[0],f=o[1];function b(){return(b=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("relist "+a),console.log(e.token),n=new Q.a("https://link.x.immutable.com"),t.next=5,n.sell({amount:"10",tokenId:"123",tokenAddress:"0x2ca7e3fa937cae708c32bc2713c20740f3c4fc3b"});case 5:t.sent;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("gods"!=c){t.next=6;break}return t.next=3,B(e.token.name);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,J(e.token.name);case 8:t.t0=t.sent;case 9:n=t.t0,console.log(n),f(n);case 12:case"end":return t.stop()}}),t)})))()}),[n]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["current: ",n," ",c]}),Object(x.jsxs)("div",{children:["lowest : ",d," ",c]}),0!=d&&n!=d?Object(x.jsx)("button",{onClick:function(){return b.apply(this,arguments)},children:"relist at lowest"}):null]})}function Z(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=g();return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching assets from "+a),e.next=3,A(a);case 3:t=e.sent,n=t.result.filter((function(e){var t;return(null===(t=e.orders.sell_orders)||void 0===t?void 0:t.length)>0})),console.log(n),c(n);case 7:case"end":return e.stop()}}),e)})))()}),[a]),Object(x.jsx)("div",{children:Object(x.jsx)(V,{children:n.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)(W,{url:e.metadata.image}),Object(x.jsx)(Y,{token:e})]},t)}))})})}function ee(e,t,n){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t,n,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Q.a("https://link.x.immutable.com"),e.next=3,c.sell({amount:n.toString(),tokenId:t.token_id,tokenAddress:t.token_address,currencyAddress:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,n,"0xccc8cb5229b0ac8069c51fd58367fd1e622afd97"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){var t=Object(i.a)(e.tokenGrp,2),n=t[0],c=t[1],a=Object(r.useState)(c),s=Object(i.a)(a,2),o=s[0],d=s[1],f=Object(r.useState)(!1),b=Object(i.a)(f,2),p=b[0],j=b[1],h=Object(r.useState)(0),O=Object(i.a)(h,2),v=O[0],m=O[1],k=Object(r.useState)(0),_=Object(i.a)(k,2),C=_[0],M=_[1],S=Object(r.useContext)(N),E=y(),q=w(),P=g();function T(){return(T=Object(u.a)(l.a.mark((function e(){var t,r,c,a,s,u,i,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.find((function(e){return void 0==e.orders.sell_orders})),console.log("sell eth "+n+" "+t.token_id),e.next=4,z(n);case 4:return r=e.sent,c=r.result[0],a=c.buy.data.quantity/Math.pow(10,c.buy.data.decimals),s=c.user==P?a:U(a-1e-7,8),u=0,e.prev=9,j(!0),e.next=13,ne(t,s);case 13:u=e.sent,e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(9),j(!1),console.log("EXCEPTION"),console.log(e.t0),e.abrupt("return");case 22:i=0;case 23:if(!(i<20)){e.next=36;break}return e.next=26,$(P,n);case 26:if(!(f=e.sent).result.some((function(e){var t,n;return null===(t=e.orders)||void 0===t||null===(n=t.sell_orders)||void 0===n?void 0:n.some((function(e){return e.order_id==u}))}))){e.next=31;break}return d(f.result),m(s),e.abrupt("break",36);case 31:return i++,e.next=34,K(1e3);case 34:e.next=23;break;case 36:j(!1);case 37:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}function A(){return(A=Object(u.a)(l.a.mark((function e(){var t,r,c,a,s,u,i,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.find((function(e){return void 0==e.orders.sell_orders})),console.log("sell gods "+n+" "+t.token_id),e.next=4,L(n);case 4:return r=e.sent,c=r.result[0],a=c.buy.data.quantity/Math.pow(10,c.buy.data.decimals),s=c.user==P?a:U(a-1e-5,6),u=0,e.prev=9,j(!0),e.next=13,ce(t,s);case 13:u=e.sent,e.next=22;break;case 16:return e.prev=16,e.t0=e.catch(9),j(!1),console.log("EXCEPTION"),console.log(e.t0),e.abrupt("return");case 22:i=0;case 23:if(!(i<20)){e.next=36;break}return e.next=26,$(P,n);case 26:if(!(f=e.sent).result.some((function(e){var t,n;return null===(t=e.orders)||void 0===t||null===(n=t.sell_orders)||void 0===n?void 0:n.some((function(e){return e.order_id==u}))}))){e.next=31;break}return d(f.result),M(s),e.abrupt("break",36);case 31:return i++,e.next=34,K(1e3);case 34:e.next=23;break;case 36:j(!1);case 37:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){var t=function(){var t=Object(u.a)(l.a.mark((function t(){var r,c,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(n);case 2:return 0!=(r=t.sent).result.length&&(c=r.result[0].buy.data.quantity/Math.pow(10,18),m(c),S(c*E*e.tokenGrp.length)),t.next=6,L(n);case 6:0!=(a=t.sent).result.length&&(s=a.result[0].buy.data.quantity/Math.pow(10,18),M(s),s*q);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(x.jsxs)("div",{className:"token-list-card",children:[Object(x.jsx)("img",{className:"token-list-image",src:o[0].metadata.image}),Object(x.jsxs)("div",{children:[n," (x",o.length,")"]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("a",{children:["eth: ",U(v*E,2),"$"]}),o.some((function(e){return void 0==e.orders.sell_orders}))&&!p?Object(x.jsx)("button",{onClick:function(){return T.apply(this,arguments)},children:"sell"}):Object(x.jsx)("div",{})]}),Object(x.jsxs)("div",{children:[Object(x.jsxs)("a",{children:["gods: ",U(C*q,2),"$"]}),o.some((function(e){return void 0==e.orders.sell_orders}))&&!p?Object(x.jsx)("button",{onClick:function(){return A.apply(this,arguments)},children:"sell"}):Object(x.jsx)("div",{})]})]})}function ue(e){if(0==e.tokens.length)return Object(x.jsx)("div",{});var t=e.tokens.reduce((function(e,t){return e[t.metadata.name]||(e[t.metadata.name]=[]),e[t.metadata.name].push(t),e}),{});return Object(x.jsx)("div",{className:"token-list-container",children:Object.entries(t).map((function(t,n){return Object(x.jsx)("div",{children:Object(x.jsx)(se,{onChange:e.onChange,tokenGrp:t})},n)}))})}function ie(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(0),s=Object(i.a)(a,2),o=s[0],d=s[1],f=Object(r.useState)(0),b=Object(i.a)(f,2),p=b[0],j=b[1],h=g(),O=y(),v=w(),m=Object(r.useContext)(E);function k(){return(k=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("CHANGE"),e.next=3,A(h);case 3:t=e.sent,c(t.result);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=h){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A(h);case 4:t=e.sent,c(t.result);case 6:case"end":return e.stop()}}),e)})))()}),[h]),Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,n,r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=h){e.next=2;break}return e.abrupt("return");case 2:return console.log("GET BALANCE"),e.next=5,P(h);case 5:r=e.sent,c=(null===(t=r.result.find((function(e){return"GODS"===e.symbol})))||void 0===t?void 0:t.balance)/Math.pow(10,18),a=(null===(n=r.result.find((function(e){return"ETH"===e.symbol})))||void 0===n?void 0:n.balance)/Math.pow(10,18),d(a||0),j(c||0);case 10:case"end":return e.stop()}}),e)})))()}),[h,n]);var _=p*v+o*O,C=m+_;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:["coingecko eth price: ",O,"$"]}),Object(x.jsxs)("div",{children:["coingecko gods price: ",v,"$"]}),Object(x.jsx)("div",{children:"_____"}),Object(x.jsxs)("div",{children:["GODS: ",U(p*v,2),"$ (",U(p,2),")"]}),Object(x.jsxs)("div",{children:["ETH: ",U(o*O,2),"$ (",U(o,4),")"]}),Object(x.jsxs)("div",{children:["TOTAL: ",U(_,2),"$"]}),Object(x.jsx)("div",{children:"_____"}),Object(x.jsxs)("div",{children:["TOTAL: ",U(C,2),"$"]}),Object(x.jsx)(ue,{tokens:n,onChange:function(){return k.apply(this,arguments)},children:Object(x.jsx)(x.Fragment,{})})]})}var oe=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(_,{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S,{}),Object(x.jsx)(C,{items:[{label:"Inventory",page:Object(x.jsx)(q,{children:Object(x.jsx)(ie,{})})},{label:"Orders",page:Object(x.jsx)(Z,{})}]})]})})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(M.MetaMaskProvider,{children:Object(x.jsx)(oe,{})})}),document.getElementById("root"))}},[[510,1,2]]]);
//# sourceMappingURL=main.d1f59966.chunk.js.map