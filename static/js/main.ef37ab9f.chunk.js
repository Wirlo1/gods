(this.webpackJsonpgods3=this.webpackJsonpgods3||[]).push([[0],{290:function(e,t,n){},291:function(e,t,n){},294:function(e,t,n){},324:function(e,t){},326:function(e,t){},346:function(e,t){},348:function(e,t){},349:function(e,t){},372:function(e,t){},374:function(e,t){},407:function(e,t){},409:function(e,t){},414:function(e,t){},416:function(e,t){},423:function(e,t){},435:function(e,t){},438:function(e,t){},454:function(e,t){},456:function(e,t){},491:function(e,t){},494:function(e,t){},508:function(e,t){},510:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n.n(r),c=n(268),s=n.n(c),u=(n(290),n(291),n(23)),i=n(29),o=n(2),l=n.n(o);function d(e){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.coingecko.com/api/v3/simple/price?ids="+t+"&vs_currencies=usd").then((function(e){return e.json()})).then((function(e){return e[t].usd})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d("ethereum"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return h.apply(this,arguments)}function h(){return(h=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d("gods-unchained"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){if(0===e)return 0;var n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}function O(e,t){return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)})))()}),t)}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}function m(e,t){return"gods"==e?x(t-1e-5,6):x(t-1e-7,8)}var k=n(9),y=a.a.createContext((function(e){})),w=a.a.createContext(""),g=a.a.createContext({ethPrice:0,godsPrice:0});function _(){return Object(r.useContext)(g).ethPrice}function S(){return Object(r.useContext)(g).godsPrice}function M(){return Object(r.useContext)(w)}function C(e){var t=e.children,n=Object(r.useState)(0),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(0),d=Object(i.a)(o,2),f=d[0],p=d[1],h=Object(r.useState)(""),x=Object(i.a)(h,2),v=x[0],m=x[1];return O(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,b();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=p,e.next=8,j();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})))),Object(k.jsx)(w.Provider,{value:v,children:Object(k.jsx)(y.Provider,{value:m,children:Object(k.jsx)(g.Provider,{value:{ethPrice:c,godsPrice:f},children:t})})})}n(294);function q(e){var t=Object(r.useState)(-1),n=Object(i.a)(t,2),a=n[0],c=n[1];return console.log("current page "+a),Object(k.jsxs)("div",{children:[Object(k.jsx)("nav",{className:"nav-bar-items",children:Object(k.jsx)("ul",{className:"nav-menu",children:e.items.map((function(e,t){return Object(k.jsx)("li",{children:Object(k.jsx)("button",{onClick:function(e){return c(t)},className:"nav-bar-item",children:e.label})},t)}))})}),Object(k.jsx)("div",{children:-1===a?Object(k.jsx)(k.Fragment,{}):e.items[a].page})]})}var P=n(119);function E(){var e=Object(P.useMetaMask)(),t=e.status,n=e.connect,a=e.account,c=Object(r.useContext)(y);Object(r.useEffect)((function(){"connected"===t&&c(a||"")}),[t]);var s=null;return"initializing"===t&&(s=Object(k.jsx)("div",{children:"Synchronisation with MetaMask ongoing..."})),"unavailable"===t&&(s=Object(k.jsx)("div",{children:"MetaMask not available :("})),"connecting"===t&&(s=Object(k.jsx)("div",{children:"Connecting..."})),"connected"===t?null:("notConnected"===t&&(s=Object(k.jsx)("button",{onClick:n,children:"Connect to MetaMask"})),Object(k.jsx)("a",{className:"meta-mask-button",children:s}))}var N=a.a.createContext(0),T=a.a.createContext((function(e){}));function $(e){var t=e.children,n=Object(r.useState)(0),a=Object(i.a)(n,2),c=a[0],s=a[1];return Object(k.jsx)(N.Provider,{value:c,children:Object(k.jsx)(T.Provider,{value:function(e){s((function(t){return t+e}))},children:t})})}function I(e){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.x.immutable.com/v2/balances/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.x.immutable.com/v1/assets?direction=asc&order_by=name&page_size=2000&sell_orders=true&status=imx&user="+t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://api.x.immutable.com/v1/assets?name="+n+"&direction=asc&order_by=name&page_size=2000&sell_orders=true&status=imx&user="+t).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent('{"name":["'+t+'"],"quality":["'+n+'"]}'),e.next=3,fetch("https://api.x.immutable.com/v1/orders?page_size=5&sell_token_address=0xacb3c6a43d15b907e8433077b6d38ae40936fe2c&buy_token_type=ETH&direction=asc&include_fees=true&order_by=buy_quantity&status=active&sell_metadata="+r);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return J.apply(this,arguments)}function J(){return(J=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=encodeURIComponent('{"name":["'+t+'"],"quality":["'+n+'"]}'),e.next=3,fetch("https://api.x.immutable.com/v1/orders?page_size=5&sell_token_address=0xacb3c6a43d15b907e8433077b6d38ae40936fe2c&buy_token_address=0xccc8cb5229b0ac8069c51fd58367fd1e622afd97&direction=asc&include_fees=true&order_by=buy_quantity&status=active&sell_metadata="+r);case 3:return a=e.sent,e.abrupt("return",a.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(l.a.mark((function e(t,n,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"gods"==t?U(n,r):H(n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t){return K.apply(this,arguments)}function K(){return(K=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n);case 2:return r=e.sent,a=r.result[0].buy.data,e.abrupt("return",a.quantity/Math.pow(10,a.decimals));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t){return V.apply(this,arguments)}function V(){return(V=Object(u.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,n);case 2:return r=e.sent,a=r.result[0].buy.data,e.abrupt("return",a.quantity/Math.pow(10,a.decimals));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n){return Y.apply(this,arguments)}function Y(){return(Y=Object(u.a)(l.a.mark((function e(t,n,r){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<20)){e.next=12;break}return e.next=4,F(t,n);case 4:if(!e.sent.result.some((function(e){var t,n;return null===(t=e.orders)||void 0===t||null===(n=t.sell_orders)||void 0===n?void 0:n.some((function(e){return e.order_id==r}))}))){e.next=7;break}return e.abrupt("return",!0);case 7:return a++,e.next=10,v(1e3);case 10:e.next=1;break;case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=n(269);function ee(e,t,n){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(l.a.mark((function e(t,n,r){var a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Z.a("https://link.x.immutable.com"),e.prev=1,e.next=4,a.sell({amount:n.toString(),tokenId:t.token_id,tokenAddress:t.token_address,currencyAddress:r});case 4:return c=e.sent,console.log("sell done"),console.log(c),s=c,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(1),console.log("EXCEPTION"),console.log(e.t0),e.abrupt("return",-1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,n,"0xccc8cb5229b0ac8069c51fd58367fd1e622afd97"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){return Object(k.jsx)("div",{className:"token-list-container",children:e.children})}function ue(e){return Object(k.jsx)("div",{className:"token-list-card",children:Object(k.jsx)("img",{className:"token-list-image",src:e.url})})}function ie(e){var t=e.token.orders.sell_orders[0],n=Object(r.useState)(t.buy_quantity/Math.pow(10,t.buy_decimals)),a=Object(i.a)(n,2),c=a[0],s=a[1],o="0xccc8cb5229b0ac8069c51fd58367fd1e622afd97"===t.contract_address?"gods":"eth",d=M(),f=Object(r.useState)(0),b=Object(i.a)(f,2),p=b[0],j=b[1],h=Object(r.useState)(!1),x=Object(i.a)(h,2),O=x[0],v=x[1];function y(){return(y=Object(u.a)(l.a.mark((function t(){var n,r,a,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.token),v(!0),t.next=4,R(o,e.token.name,e.token.metadata.quality);case 4:if(n=t.sent,r=n.result[0],a=r.buy.data.quantity/Math.pow(10,r.buy.data.decimals),c=r.user===d?a:m(o,a),"gods"!==o){t.next=13;break}return t.next=11,ae(e.token,c);case 11:t.next=15;break;case 13:return t.next=15,ne(e.token,c);case 15:s(c),v(!1);case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("gods"!==o){t.next=6;break}return t.next=3,X(e.token.name,e.token.metadata.quality);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Q(e.token.name,e.token.metadata.quality);case 8:t.t0=t.sent;case 9:n=t.t0,j(n);case 11:case"end":return t.stop()}}),t)})))()}),[c]),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["current: ",c," ",o]}),Object(k.jsxs)("div",{children:["lowest : ",p," ",o]}),!1===O&&0!=p&&c>p?Object(k.jsx)("button",{onClick:function(){return y.apply(this,arguments)},children:"relist at lowest"}):null]})}function oe(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=M();return Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching assets from "+c),e.next=3,A(c);case 3:t=e.sent,n=t.result.filter((function(e){var t;return(null===(t=e.orders.sell_orders)||void 0===t?void 0:t.length)>0})),console.log(n),a(n);case 7:case"end":return e.stop()}}),e)})))()}),[c]),Object(k.jsx)("div",{children:Object(k.jsx)(se,{children:n.map((function(e,t){return Object(k.jsxs)("div",{children:[Object(k.jsx)(ue,{url:e.metadata.image}),Object(k.jsx)(ie,{token:e})]},t)}))})})}function le(e){var t=e.items[0].metadata.name,n=Object(r.useState)(e.items),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!1),d=Object(i.a)(o,2),f=d[0],b=d[1],p=Object(r.useState)(0),j=Object(i.a)(p,2),h=(j[0],j[1]),v=Object(r.useState)(0),m=Object(i.a)(v,2),y=(m[0],m[1]),w=M(),g=function(e,t){var n=Object(r.useState)(0),a=Object(i.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(0),d=Object(i.a)(o,2),f=d[0],b=d[1];return O(Object(u.a)(l.a.mark((function n(){var r,a,c,u;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H(e,t);case 2:return 0!==(r=n.sent).result.length&&(a=r.result[0].buy.data.quantity/Math.pow(10,18),s(a)),n.next=6,U(e,t);case 6:0!==(c=n.sent).result.length&&(u=c.result[0].buy.data.quantity/Math.pow(10,18),b(u));case 8:case"end":return n.stop()}}),n)}))),[]),[c,f]}(t,e.items[0].metadata.quality),C=Object(i.a)(g,2),q=C[0],P=C[1],E=_(),N=S();function T(){return(T=Object(u.a)(l.a.mark((function n(){var r,a,u,i,o,d,f;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.find((function(e){return void 0===e.orders.sell_orders})),n.next=3,H(t,e.items[0].metadata.quality);case 3:return a=n.sent,u=a.result[0],i=u.buy.data.quantity/Math.pow(10,u.buy.data.decimals),o=u.user===w?i:x(i-1e-7,8),b(!0),n.next=10,ne(r,o);case 10:if(-1!==(d=n.sent)){n.next=14;break}return b(!1),n.abrupt("return");case 14:return n.next=16,W(w,t,d);case 16:if(f=n.sent,b(!1),f){n.next=20;break}return n.abrupt("return");case 20:return n.t0=s,n.next=23,F(w,t);case 23:n.t1=n.sent.result,(0,n.t0)(n.t1),h(o);case 26:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function $(){return($=Object(u.a)(l.a.mark((function n(){var r,a,u,i,o,d,f;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.find((function(e){return void 0===e.orders.sell_orders})),n.next=3,U(t,e.items[0].metadata.quality);case 3:return a=n.sent,u=a.result[0],i=u.buy.data.quantity/Math.pow(10,u.buy.data.decimals),o=u.user===w?i:x(i-1e-5,6),b(!0),n.next=10,ae(r,o);case 10:if(-1!==(d=n.sent)){n.next=14;break}return b(!1),n.abrupt("return");case 14:return n.next=16,W(w,t,d);case 16:if(f=n.sent,b(!1),f){n.next=20;break}return n.abrupt("return");case 20:return n.t0=s,n.next=23,F(w,t);case 23:n.t1=n.sent.result,(0,n.t0)(n.t1),y(o);case 26:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(r.useEffect)((function(){e.add(E*q*e.items.length)}),[q]),Object(k.jsxs)("div",{className:"token-list-card",children:[Object(k.jsx)("img",{className:"token-list-image",src:e.items[0].metadata.image}),Object(k.jsxs)("div",{children:[t," (x",e.items.length,")"]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("a",{children:["eth: ",x(q*E,2),"$"]}),0!=q&&c.some((function(e){return void 0===e.orders.sell_orders}))&&!f?Object(k.jsx)("button",{onClick:function(){return T.apply(this,arguments)},children:"sell"}):Object(k.jsx)("div",{})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("a",{children:["gods: ",x(P*N,2),"$"]}),0!=P&&c.some((function(e){return void 0===e.orders.sell_orders}))&&!f?Object(k.jsx)("button",{onClick:function(){return $.apply(this,arguments)},children:"sell"}):Object(k.jsx)("div",{})]})]})}function de(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(0),s=Object(i.a)(c,2),o=s[0],d=s[1],f=function(e){return d((function(t){return t+e}))},b=Object(r.useState)(0),p=Object(i.a)(b,2),j=p[0],h=p[1],v=Object(r.useState)(0),m=Object(i.a)(v,2),y=m[0],w=m[1],g=M(),C=_(),q=S();O(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(g);case 2:t=e.sent,console.log(t),a(t.result);case 5:case"end":return e.stop()}}),e)}))),[]);var P=n.reduce((function(e,t){var n=t.metadata.name+t.metadata.quality;return e[n]||(e[n]=[]),e[n].push(t),e}),{});Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A(g);case 4:t=e.sent,a(t.result);case 6:case"end":return e.stop()}}),e)})))()}),[g]),Object(r.useEffect)((function(){Object(u.a)(l.a.mark((function e(){var t,n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I(g);case 4:r=e.sent,a=(null===(t=r.result.find((function(e){return"GODS"===e.symbol})))||void 0===t?void 0:t.balance)/Math.pow(10,18),c=(null===(n=r.result.find((function(e){return"ETH"===e.symbol})))||void 0===n?void 0:n.balance)/Math.pow(10,18),h(c||0),w(a||0);case 9:case"end":return e.stop()}}),e)})))()}),[g,a]);var E=y*q+j*C,N=o+E;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["coingecko eth price: ",C,"$"]}),Object(k.jsxs)("div",{children:["coingecko gods price: ",q,"$"]}),Object(k.jsx)("div",{children:"_____"}),Object(k.jsxs)("div",{children:["GODS: ",x(y*q,2),"$ (",x(y,2),")"]}),Object(k.jsxs)("div",{children:["ETH: ",x(j*C,2),"$ (",x(j,4),")"]}),Object(k.jsxs)("div",{children:["TOTAL: ",x(E,2),"$"]}),Object(k.jsx)("div",{children:"_____"}),Object(k.jsxs)("div",{children:["TOTAL: ",x(N,2),"$"]}),Object(k.jsx)("div",{className:"token-list-container",children:Object.entries(P).map((function(e,t){return Object(k.jsx)("div",{children:Object(k.jsx)(le,{items:e[1],add:f})},t)}))})]})}var fe=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(C,{children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(E,{}),Object(k.jsx)(q,{items:[{label:"Inventory",page:Object(k.jsx)($,{children:Object(k.jsx)(de,{})})},{label:"Orders",page:Object(k.jsx)(oe,{})},{label:"GUDecks",page:Object(k.jsx)(k.Fragment,{})}]})]})})})};s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(P.MetaMaskProvider,{children:Object(k.jsx)(fe,{})})}),document.getElementById("root"))}},[[510,1,2]]]);
//# sourceMappingURL=main.ef37ab9f.chunk.js.map